
/*
  Elyxir â€“ modern.css (2025)
  updated for modern browsers. No RTL helpers, no legacy IE rules.

  Structure:
  1) Layers & Design Tokens
  2) Reset (opinionated minimal normalize)
  3) Base Elements (typography, links, media)
  4) Forms
  5) Layout & Helpers
  6) Components (buttons, nav, cards, galleries)
  7) Accessibility utilities
  8) Media Queries
*/

/* =======================================
   1) Layers & Design Tokens
   ======================================= */
@layer reset, base, components, utilities;

:root {
  /* Palette */
  --c-bg: #ffffff;
  --c-fg: #0f172a;           /* slate-900 */
  --c-muted: #475569;        /* slate-600 */
  --c-border: #e5e7eb;       /* gray-200 */
  --c-subtle: #f8fafc;       /* slate-50 */
  --c-link: #1a73e8;         /* blue-ish */
  --c-link-hover: #0b59c7;
  --c-link-visited: #6b4ea0;
  --c-focus: #0ea5e9;        /* sky-500 */

  /* Semantic */
  --c-success: #16a34a;
  --c-warning: #f59e0b;
  --c-danger:  #ef4444;

  /* Typography */
  --ff-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, ui-sans-serif, sans-serif;
  --ff-mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --fs-base: clamp(15px, 0.95vw + 12px, 18px);
  --fs-sm: 0.875rem;
  --fs-lg: clamp(1.05rem, 0.6vw + 1rem, 1.25rem);
  --fs-h1: clamp(1.8rem, 2.5vw + 1.2rem, 3rem);
  --fs-h2: clamp(1.5rem, 1.6vw + 1rem, 2.25rem);
  --fs-h3: clamp(1.25rem, 1vw + .9rem, 1.5rem);
  --lh: 1.55;

  /* Radius & Shadows */
  --radius: 10px;
  --shadow-1: 0 1px 2px rgba(0,0,0,.08);
  --shadow-2: 0 6px 18px rgba(0,0,0,.08);

  /* Spacing */
  --space-1: .25rem;
  --space-2: .5rem;
  --space-3: .75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;

  /* Layout */
  --container: 1200px;
  --gutter: 1rem;
}

@media (prefers-color-scheme: dark) {
  :root {
    --c-bg: #0b0b0c;
    --c-fg: #e8e8ea;
    --c-muted: #a1a1aa;
    --c-border: #27272a;
    --c-subtle: #111113;
    --c-link: #8ab4f8;
    --c-link-hover: #77a6f6;
    --c-link-visited: #b59ae6;
    --c-focus: #22d3ee; /* cyan-400 */
    --shadow-1: 0 1px 2px rgba(0,0,0,.5);
    --shadow-2: 0 10px 24px rgba(0,0,0,.45);
  }
}

/* =======================================
   2) Reset
   ======================================= */
@layer reset {
  html { box-sizing: border-box; color-scheme: light dark; }
  *, *::before, *::after { box-sizing: inherit; }
  html, body, #page { height: 100%; }
  body { margin: 0; }

  /* Remove default margins */
  h1,h2,h3,h4,h5,h6,p,figure,blockquote { margin: 0; }
  ul,ol { margin: 0; padding: 0; }

  /* Media elements */
  img, svg, video, canvas, audio, iframe { display: block; max-width: 100%; }
  img { height: auto; }

  /* Tables */
  table { border-collapse: collapse; width: 100%; }
}

/* =======================================
   3) Base Elements
   ======================================= */
@layer base {
  html { font-size: var(--fs-base); }
  body {
    background: var(--c-bg);
    color: var(--c-fg);
    line-height: var(--lh);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-family: var(--ff-sans);
  }

  /* Flow spacing default */
  :where(main, article, section) > * + * { margin-block-start: var(--space-6); }

  /* Headings */
  h1 { font-size: var(--fs-h1); line-height: 1.15; letter-spacing: -0.01em; }
  h2 { font-size: var(--fs-h2); line-height: 1.2;  letter-spacing: -0.01em; }
  h3 { font-size: var(--fs-h3); line-height: 1.25; }
  h4, h5, h6 { font-size: 1rem; text-transform: none; }

  p { margin-block: 0; }
  p + p { margin-block-start: var(--space-4); }

  a {
    color: var(--c-link);
    text-decoration: underline;
    text-underline-offset: .18em;
  }
  a:hover { color: var(--c-link-hover); }
  a:visited { color: var(--c-link-visited); }

  /* Focus styles */
  :where(a, button, input, select, textarea, summary):focus-visible {
    outline: 3px solid var(--c-focus);
    outline-offset: 2px;
    border-radius: calc(var(--radius) - 2px);
  }

  hr { border: 0; height: 1px; background: var(--c-border); }

  code, kbd, samp, pre { font-family: var(--ff-mono); font-size: .95em; }
  pre { background: var(--c-subtle); padding: var(--space-4); border-radius: var(--radius); overflow: auto; }

  /* Lists */
  ul { list-style: disc; padding-inline-start: 1.25rem; }
  ol { list-style: decimal; padding-inline-start: 1.25rem; }
}

/* =======================================
   4) Forms
   ======================================= */
@layer base {
  :where(input, select, textarea, button) {
    font: inherit; color: inherit;
  }
  :where(input, select, textarea) {
    width: 100%;
    background: var(--c-bg);
    border: 1px solid var(--c-border);
    border-radius: var(--radius);
    padding: .6rem .8rem;
    min-height: 2.75rem;
  }
  textarea { resize: vertical; min-height: 6rem; }
  :where(input, textarea)::placeholder { color: var(--c-muted); opacity: .9; }

  fieldset { border: 1px solid var(--c-border); border-radius: var(--radius); padding: var(--space-4); }
  legend { padding: 0 var(--space-2); }

  /* Buttons */
  .btn {
    display: inline-flex; align-items: center; justify-content: center;
    gap: .5rem;
    border-radius: var(--radius);
    border: 1px solid var(--c-border);
    padding: .65rem 1rem;
    background: var(--c-subtle);
    color: var(--c-fg);
    text-decoration: none;
    cursor: pointer;
    transition: transform .06s ease, box-shadow .2s ease;
    box-shadow: var(--shadow-1);
  }
  .btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); }
  .btn:active { transform: translateY(0); }
  .btn[disabled], .btn:disabled { opacity: .6; cursor: not-allowed; }

  .btn--primary { background: var(--c-link); color: #fff; border-color: color-mix(in srgb, var(--c-link) 80%, #000 20%); }
  .btn--primary:hover { background: var(--c-link-hover); }
  .btn--danger { background: var(--c-danger); color: #fff; border-color: #d42d2d; }
}

/* =======================================
   5) Layout & Helpers
   ======================================= */
@layer utilities {
  .container { width: min(100% - 2*var(--gutter), var(--container)); margin-inline: auto; }
  .stack > * + * { margin-block-start: var(--space-4); }
  .cluster { display: flex; flex-wrap: wrap; gap: var(--space-4); align-items: center; }
  .grid { display: grid; gap: var(--space-6); }
  .grid--2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid--3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid--4 { grid-template-columns: repeat(4, minmax(0,1fr)); }

  .hidden { display: none !important; }
  .visually-hidden {
    position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
  }
}

/* =======================================
   6) Components
   ======================================= */
@layer components {
  /* Header/Nav */
  .site-header { position: relative; background: var(--c-bg); border-bottom: 1px solid var(--c-border); }
  .brand { display: flex; align-items: center; gap: .6rem; padding-block: .75rem; }
  .brand__logo { inline-size: 36px; block-size: 36px; border-radius: 50%; object-fit: cover; }
  .brand__title { font-weight: 700; }

  .main-navigation { position: relative; }
  .nav-toggle { display: inline-flex; align-items: center; gap: .5rem; }
  .nav-toggle[aria-expanded="false"] + .menu { display: none; }

  .menu { list-style: none; }
  .menu > li { position: relative; }
  .menu a { display: block; padding: .6rem .8rem; text-decoration: none; color: inherit;  }
  .menu a:hover { background: var(--c-subtle); }

  /* Dropdowns (hover + keyboard) */
  .menu li > .sub-menu {
    position: absolute; inset-inline-start: 0; top: 100%; min-inline-size: 220px;
    background: var(--c-bg); border: 1px solid var(--c-border); 
    padding: .4rem; display: none; box-shadow: var(--shadow-2); z-index: 50;
  }
  .menu li:focus-within > .sub-menu, .menu li:hover > .sub-menu { display: block; }
  

  /* Card */
  .card { background: var(--c-bg); border: 1px solid var(--c-border); border-radius: var(--radius); box-shadow: var(--shadow-1); overflow: hidden; }
  .card__media img { width: 100%; height: auto; display: block; }
  .card__body { padding: var(--space-5); }

  /* Footer */
  .site-footer { border-top: 1px solid var(--c-border); background: var(--c-subtle); color: var(--c-muted); padding-block: var(--space-8); }

  /* WP bits commonly needed */
  .custom-logo-link { display: inline-block; }
  .wp-caption { max-width: 100%; }
  .wp-caption img { display: block; margin-inline: auto; }
  .wp-caption .wp-caption-text { text-align: center; font-size: var(--fs-sm); color: var(--c-muted); margin-top: .5rem; }

  /* Galleries (simple, grid-based) */
  .gallery { display: grid; gap: var(--space-4); }
  .gallery.columns-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .gallery.columns-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .gallery.columns-4 { grid-template-columns: repeat(4, minmax(0,1fr)); }
}

/* =======================================
   7) Accessibility utilities
   ======================================= */
@layer utilities {
  /* Skip link */
  .skip-link { position: absolute; inset-inline-start: -9999px; top: 0; background: var(--c-bg); color: var(--c-fg);
    padding: .5rem .75rem; border: 1px solid var(--c-border); border-radius: .5rem; }
  .skip-link:focus { inset-inline-start: .5rem; top: .5rem; z-index: 999; }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
  }
}

/* =======================================
   8) Media Queries (Responsive)
   Place all responsive adaptations here so the file is easy to scan.
   Breakpoints: 480, 768, 1024, 1280 (px)
   ======================================= */

/********** >=480px **********/
@media (min-width: 480px) {
  .grid--2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .brand__title { font-size: 1.05rem; }
}

/********** >=768px **********/
@media (min-width: 768px) {
  :root { --gutter: 1.25rem; }

  .container { width: min(100% - 2*var(--gutter), var(--container)); }

  .site-header .cluster { justify-content: space-between; }
  .nav-toggle { display: none; }
  .nav-toggle[aria-expanded] + .menu { display: block; }

  .menu { display: flex; gap: .25rem; }
  .menu > li { position: relative; }

  .grid--3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid--4 { grid-template-columns: repeat(4, minmax(0,1fr)); }
}

/********** >=1024px **********/
@media (min-width: 1024px) {
  :root { --container: 1200px; }
  h1 { letter-spacing: -0.015em; }
  .card__body { padding: var(--space-6); }
}

/********** >=1280px **********/
@media (min-width: 1280px) {
  :root { --container: 1320px; }
  .menu a { padding: .75rem 1rem; }
}
